<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lection_17_HW_DOM</title>
    <script src="js/main.js" defer></script>
</head>

<body>
    <h4>Lection_17_HW_DOM</h4>
    <script>
let form = document.createElement("form");
document.body.appendChild(form);
form.method = "GET";
form.action = "https://google.com/";

let formName = document.createElement("input");
formName.type = "text";
formName.name = "name";
formName.placeholder = "your name";
form.appendChild(formName);

let formSurname = document.createElement("input");
formSurname.type = "text";
formSurname.name = "surname";
formSurname.placeholder = "your surname";
form.appendChild(formSurname);

let formAge = document.createElement("input");
formAge.type = "number";
formAge.name = "age";
formAge.placeholder = "your age";
form.appendChild(formAge);

let submitBtn = document.createElement("button");
submitBtn.textContent = "Submit";
submitBtn.type = "submit";
document.body.appendChild(submitBtn);

//// ошибки ввода
let alertName = document.createElement("span"); 
alertName.innerText = "Incorrect name! Should be > 3 letters";
document.body.appendChild(alertName);
alertName.style.display = "none";

let alertSurname = document.createElement("span"); 
alertSurname.innerText = "Incorrect surname! Should be > 3 letters";
document.body.appendChild(alertSurname);
alertSurname.style.display = "none";

let alertAge = document.createElement("span"); 
alertAge.innerText = "Incorrect age! Should be > 15 and < 80";
document.body.appendChild(alertAge);
alertAge.style.display = "none";

//// обработчик онклика и валидация
submitBtn.onclick = () => {

let isFormValid = true;

    if (!(formName.value.length > 3)) {
        isFormValid = false;
        alertName.style.display = "flex";
    }

    if (!(formSurname.value.length > 3)) {
        isFormValid = false;
        alertSurname.style.display = "flex";
    }

    if (!(formAge.value > 15) || !(formAge.value < 80)){
        isFormValid = false;
        alertAge.style.display = "flex";
    }

    console.log(isFormValid);
    isFormValid && form.submit();
};

formName.oninput = (e) => {
    alertName.style.display = "none";
}
formSurname.oninput = (e) => {
    alertSurname.style.display = "none";
}
formAge.oninput = (e) => {
    alertAge.style.display = "none";
}

    </script>
</body>

</html>

